import{_ as e}from"./plugin-vue_export-helper.21dcd24c.js";import{o as i,c as n,e as d}from"./app.f44b82ad.js";const a={},s=d(`<h1 id="utils" tabindex="-1"><a class="header-anchor" href="#utils" aria-hidden="true">#</a> Utils</h1><p>public/utils\u76EE\u5F55\u4E0B\u63D0\u4F9B\u4E00\u4E9B\u91CD\u8981\u4E14\u5E38\u7528\u7684\u516C\u5171\u65B9\u6CD5</p><h3 id="addiconfontlink-url" tabindex="-1"><a class="header-anchor" href="#addiconfontlink-url" aria-hidden="true">#</a> addIconfontLink(url)</h3><p>\u53C2\u6570\uFF1A</p><p><code>{ string } url</code></p><p>\u63CF\u8FF0</p><p><code>\u4F7F\u7528addIconfontLink\u6DFB\u52A0\u5B57\u4F53\u56FE\u6807\u6837\u5F0F\uFF0CURL\u4E3A\u5B57\u4F53\u56FE\u6807\u5E93\u7684(Font class)</code></p><p>\u7528\u6CD5</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>import { addIconfontLink } from &#39;@/public/utils&#39;
addIconfontLink(&#39;font_992200_oy20hi6c5a9.css&#39;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="registerstoremodule-module-name" tabindex="-1"><a class="header-anchor" href="#registerstoremodule-module-name" aria-hidden="true">#</a> registerStoreModule(module, name)</h3><p>\u53C2\u6570</p><p><code>{ Object } module</code></p><p><code>{ name } string</code></p><p>\u63CF\u8FF0</p><p>\u6CE8\u518C\u4E00\u4E2AVuex\u7684\u52A8\u6001\u6A21\u5757</p><p>\u7528\u6CD5\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>import module from &#39;../store&#39;
import { registerStoreModule } from &#39;@/public/utils&#39;
registerStoreModule(module, &#39;tms&#39;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="createmodulelayout-name-context-url" tabindex="-1"><a class="header-anchor" href="#createmodulelayout-name-context-url" aria-hidden="true">#</a> createModuleLayout(name, context, url)</h3><p>\u53C2\u6570</p><p><code>{ string } name</code></p><p><code>{ function &amp; null } context</code></p><p><code>{ string } url</code></p><p>\u63CF\u8FF0</p><p><code>\u6CE8\u518C\u4E1A\u52A1\u7EBF\u7684\u5B50\u4ED3\u5E93\uFF0C\u6BD4\u5982CRM\u3001TMS\u7B49</code></p><p>\u7528\u6CD5\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>import module from &#39;../store&#39;
import { registerStoreModule, createModuleLayout, addIconfontLink } from &#39;@/public/utils&#39;
registerStoreModule(module, &#39;tms&#39;)
addIconfontLink(&#39;font_992280_oy20h16c5a9.css&#39;)
export default createModuleLayout(&#39;tmsLayout&#39;, null, &#39;font_992280_oy20h16c5a9.css&#39;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53C2\u8003\uFF1A\u5404\u4E2A\u4ED3\u5E93\u7684<code>page/layout.js</code></p><h3 id="exportfile-url-data-filename" tabindex="-1"><a class="header-anchor" href="#exportfile-url-data-filename" aria-hidden="true">#</a> exportFile(url, data, fileName)</h3><p>\u53C2\u6570\uFF1A</p><p><code>{ string } url</code></p><p><code>{ object } data</code></p><p><code>{ string } fileName</code></p><p>\u63CF\u8FF0</p><p><code>\u6587\u6863\u6D41\u4E0B\u8F7D</code></p><p>\u7528\u6CD5\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>import module from &#39;../store&#39;
import { exportFile } from &#39;@/public/utils&#39;
exportFile(&#39;www.xxx.com&#39;, { code: &#39;xx&#39; }, &#39;xxx\u6587\u4EF6&#39;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="lookup-val-key" tabindex="-1"><a class="header-anchor" href="#lookup-val-key" aria-hidden="true">#</a> lookup(val, key)</h3><p>\u53C2\u6570</p><p><code>{ string } val</code></p><p><code>{ string } key</code></p><p>\u63CF\u8FF0</p><p><code>\u8FC7\u6EE4\u51FA\u6570\u636E\u5B57\u5178\u4E2D\u5BF9\u5E94\u7684\u67D0\u4E2A\u503C\u7684label</code></p><p>\u7528\u6CD5\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>import { lookup } from &#39;@/public/utils&#39;
const label = loopup(&#39;20&#39;, &#39;common_service_type&#39;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="thousands-num" tabindex="-1"><a class="header-anchor" href="#thousands-num" aria-hidden="true">#</a> thousands(num)</h3><p>\u53C2\u6570</p><p><code>{ string | number } num</code></p><p>\u63CF\u8FF0\uFF1A</p><p><code>\u5343\u5206\u7B26</code></p><p>\u7528\u6CD5\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>import { thousands } from &#39;@/public/utils&#39;
const num = thousands(&#39;200000&#39;) //200,000
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="numbersplit-num" tabindex="-1"><a class="header-anchor" href="#numbersplit-num" aria-hidden="true">#</a> numberSplit(num)</h3><p>\u53C2\u6570\uFF1A</p><p><code>{ string | number } num</code></p><p>\u63CF\u8FF0\uFF1A</p><p><code>\u91D1\u989D\u5355\u4F4D\u8F6C\u6362\uFF08\u6CE8\u610F\uFF1A\u51E1\u662F\u6D89\u53CA\u91D1\u989D\u8F6C\u6362\u5FC5\u987B\u4F7F\u7528\u8BE5\u65B9\u6CD5\uFF01\uFF01\uFF01\uFF09</code></p><p>\u7528\u6CD5\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>import { numberSplit } from &#39;@/public/utils&#39;
const label = numberSplit(&#39;2000000&#39;) // 200\u4E07
const label = numberSplit(&#39;20000000&#39;) // 2000\u4E07
const label = numberSplit(12345) // 1\u4E072345
const label = numberSPlit(1234) // 1234
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="http" tabindex="-1"><a class="header-anchor" href="#http" aria-hidden="true">#</a> http</h3><p>\u53C2\u6570\uFF1A</p><p><code>{ string } method</code></p><p><code>{ object } data</code></p><p><code>{ string | boolean | object } opt</code></p><p>\u63CF\u8FF0</p><p><code>\u6839\u636Eaxios\u4E8C\u6B21\u5C01\u88C5\u7684http\uFF0C\u53EF\u914D\u7F6EURL\u3001appkey\u3001\u81EA\u5B9A\u4E49\u9519\u8BEF\u63D0\u793A\u4FE1\u606F\u3001\u63A5\u53E3\u8C03\u7528\u5931\u8D25\u65F6\u662F\u5426\u63D0\u793A\u9519\u8BEF\u4FE1\u606F\u3001\u662F\u5426\u4E0A\u62A5\u63A5\u53E3\u8C03\u7528\u65E5\u5FD7\u7B49</code></p><p><code>method\u4E3AURL</code></p><p><code>data\u4E3A\u53C2\u6570</code></p><p><code>opt\u4E3Astring\u65F6\u503C\u4E3A\u7279\u6B8A\u7684appkey</code></p><p><code>opt\u4E3Aboolean\u65F6\u914D\u7F6E\u63A5\u53E3\u51FA\u9519\u662F\u5426\u5F39\u51FA\u63D0\u793A\u4FE1\u606F</code></p><p><code>opt\u4E3Aobject\u65F6\u53EF\u81EA\u5B9A\u4E49\u914D\u7F6E\u8BBE\u7F6E\u4EE5\u4E0A\u529F\u80FD\u4E14\u5305\u62EC\uFF1A\u63A5\u53E3\u8C03\u7528\u65F6\u8868\u662F\u5426\u63D0\u793A\u9519\u8BEF\u4FE1\u606F\u3001\u662F\u5426\u4E0A\u62A5\u63A5\u53E3\u8C03\u7528\u65E5\u5FD7\u7B49</code></p><p>\u7528\u6CD5:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>const params = {
    x: &#39;xx&#39;
}
this.$http(&#39;xxx&#39;, params).then(res =&gt; {
    // ...some code
})
this.$http(&#39;xxx&#39;, params, false).then(res =&gt; {
    // ... some code
})
this.$http(&#39;xxx&#39;, params, {
    appkey: &#39;xx&#39;,
    msg: &#39;\u81EA\u5B9A\u4E49\u9519\u8BEF\u63D0\u793A\u4FE1\u606F&#39;,
    cancel: true, // \u63A5\u53E3\u8C03\u7528\u5931\u8D25\u65F6\u662F\u5426\u63D0\u793A\u9519\u8BEF\u4FE1\u606F
    log: false, // \u662F\u5426\u4E0A\u62A5\u63A5\u53E3\u8C03\u7528\u65E5\u5FD7
    axios: {} // axios request config
}).then( res =&gt; {
    // ... some code
})
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="erpopen-url-target-intercept-false" tabindex="-1"><a class="header-anchor" href="#erpopen-url-target-intercept-false" aria-hidden="true">#</a> erpOpen(url, target = &#39;&#39;, intercept = false)</h3><p>\u53C2\u6570\uFF1A</p><p><code>{ string } url</code></p><p><code>{ string } target</code></p><p><code>{ boolean } intercept</code></p><p>\u63CF\u8FF0\uFF1A</p><p><code>erpOpen\u63D0\u4F9B\u4E86\u4E0B\u8F7D\u8DF3\u8F6C\u529F\u80FD\uFF0C\u4E14\u53EF\u8BBE\u7F6E\u662F\u5426\u5F00\u542F\u4E0E\u5173\u95ED\u5F53\u524D\u7A97\u53E3\u79BB\u5F00\u65F6\uFF0C\u6D4F\u89C8\u5668onbeforeunload\u4E8B\u4EF6\u63D0\u793A\u662F\u5426\u79BB\u5F00\u6B64\u7F51\u7AD9</code></p><p><code>url\u5305\u542B\u8D85\u94FE\u63A5\u6307\u5411\u7684url\u6216url\u7247\u6BB5</code></p><p><code>target\u8BE5\u5C5E\u6027\u6307\u5B9A\u5728\u4F55\u5904\u663E\u793A\u94FE\u63A5\u7684\u8D44\u6E90\u3002\u53D6\u503C\u4E3A\u6807\u7B7E(tab)\u3001\u7A97\u53E3(window)\u3001\u6216\u6846\u67B6(iframe)\u7B49\u6D4F\u89C8\u4E0A\u4E0B\u6587\u7684\u540D\u79F0\u6216\u5176\u5B83\u5173\u952E\u8BCD</code></p><p><code>intercept\u5173\u95ED\u5F53\u524D\u7A97\u53E3\u65F6\u5F00\u542F\u6216\u963B\u6B62\u6D4F\u89C8\u5668\u63D0\u793A\u4FE1\u606F</code></p><p><code>window.onbeforeunload:\u5F53\u7A97\u53E3\u5373\u5C06\u88AB\u5378\u8F7D(\u5173\u95ED)\u65F6\uFF0C\u4F1A\u89E6\u53D1\u8BE5\u4E8B\u4EF6\uFF0C\u6B64\u65F6\u9875\u9762\u6587\u6863\u4F9D\u7136\u53EF\u89C1\uFF0C\u4E14\u8BE5\u4E8B\u4EF6\u7684\u9ED8\u8BA4\u52A8\u4F5C\u53EF\u4EE5\u88AB\u53D6\u6D88</code></p><p>\u7528\u6CD5\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>// \u4E0D\u5F39\u51FA\u5378\u8F7D\u9875\u9762\u63D0\u793A
const download = (url) =&gt; {
    window.erpOpen(url)
    window.__intercept__ - 0
}
// \u5F39\u51FA\u5378\u8F7D\u9875\u9762\u63D0\u793A
const download = (url) =&gt; {
    window.erpOpen(url, &#39;xxx&#39;, true)
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>window._<em>intercept</em>_ = 0 \u5173\u95ED\u9875\u9762\u65F6\u4E0D\u5F39\u51FA\u5378\u8F7D\u9875\u9762\u63D0\u793A</p><p>window._<em>intercept</em>_ = 1 \u5173\u95ED\u9875\u9762\u65F6\u4F1A\u5F39\u51FA\u5378\u8F7D\u9875\u9762\u63D0\u793A</p></blockquote>`,86),r=[s];function l(o,c){return i(),n("div",null,r)}var u=e(a,[["render",l],["__file","utils.html.vue"]]);export{u as default};
